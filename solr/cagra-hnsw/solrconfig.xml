<?xml version="1.0" ?>
<config>
    <luceneMatchVersion>10.0.0</luceneMatchVersion>
    <dataDir>${solr.data.dir:}</dataDir>
    <directoryFactory name="DirectoryFactory" class="${solr.directoryFactory:solr.NRTCachingDirectoryFactory}"/>

    <indexConfig>
	    <ramBufferSizeMB>20000</ramBufferSizeMB>
	    <maxBufferedDocs>-1</maxBufferedDocs>
	    <useCompoundFile>false</useCompoundFile>
	    <mergePolicyFactory class="org.apache.solr.index.NoMergePolicyFactory" />
	    <infoStream>true</infoStream>
    </indexConfig>

    <updateHandler class="solr.DirectUpdateHandler2">
        <!--updateLog>
            <str name="dir">${solr.ulog.dir:}</str>
        </updateLog-->
        <autoCommit>
            <maxTime>${solr.autoCommit.maxTime:1500000}</maxTime>
            <openSearcher>false</openSearcher>
        </autoCommit>
        <autoSoftCommit>
            <maxTime>${solr.autoSoftCommit.maxTime:1500000}</maxTime>
        </autoSoftCommit>
    </updateHandler>

    <codecFactory name="CuVSCodecFactory" class="org.apache.solr.cuvs.CuVSCodecFactory">
        <str name="cuvsWriterThreads">16</str>
        <str name="intGraphDegree">128</str>
        <str name="graphDegree">64</str>
        <str name="hnswLayers">1</str>
        <str name="maxConn">16</str>
        <str name="beamWidth">100</str>
    </codecFactory>

    <requestHandler name="/select" class="solr.SearchHandler">
        <lst name="defaults">
            <str name="echoParams">explicit</str>
            <int name="rows">10</int>
        </lst>
    </requestHandler>

    <requestHandler name="/update" class="solr.UpdateRequestHandler" />
</config>
